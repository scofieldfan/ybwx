<div class="mask" id="popup">
	<div class="toast" id="stopPro"></div>
</div>

<div class="solution-container"  cg-busy="solutionPromise">
<div class="header">
	<div class="logo icon_{{type}}"> </div>
	<div class="contaienr">
		<div class="title">{{getInsuranceCNname()}}保障方案 {{data.score | number:1}}分</div>	
		<div class="sub-title">方案金额:{{money}} 元</div>	
	</div>
</div>
<div class="table-wrapper"  data-ng-init="init()"  ng-class="{'border-bt': data.coverages.length<=(showNum+1)}">
	<table>
		<tr ng-repeat="coverage in data.mainCoverages"  ng-hide="$index>showNum"><td  class="left-td" des="{{coverage.description}}"><div>{{coverage.name}}<div class="qa" ng-show="coverage.description"></div></div><div  class="des" style="display: none">{{coverage.description}}</div></td><td class="right-td">{{processSpecialMoney(coverage.sum_insured)}}</td></tr>
		<tr class="ng-hide" ng-if="data.secondCoverages.length>0"><td colspan="2"  style="text-align:left;font-size:17px;">次要责任</td></tr>
		<tr ng-repeat="coverage in data.secondCoverages" class="ng-hide"><td  class="left-td" des="{{coverage.description}}"><div>{{coverage.name}}<div class="qa" ng-show="coverage.description"></div></div><div  class="des" style="display: none">{{coverage.description}}</div></td><td class="right-td">{{processSpecialMoney(coverage.sum_insured)}}</td></tr>
		<tr class="ng-hide"  ng-if="data.escape_coverages.length>0"><td colspan="2"  style="text-align:left;font-size:17px;">免除责任</td></tr>
		<tr ng-repeat="coverage in data.escape_coverages" class="ng-hide"><td  class="left-td" des="{{coverage.desc}}"><div>{{coverage.name}}<div class="qa" ng-show="coverage.desc"></div></div><div  class="des" style="display: none">{{coverage.desc}}</div></td><td class="right-td"></td></tr>
	</table>	

</div>
	<div class="more" ng-if="data.mainCoverages.length>(showNum+1)  ||  data.secondCoverages.length>0 || data.escape_coverages.length>0"  data-switch='on' ng-click="more($event)"><span>查看更多</span><div class="icon-arrow"></div></div>

<div class="contents">方案内容</div>
<ul class="solution">

	<li  ng-repeat="plan in data.plans" >
		<div class="checkbox " ng-click="go(plan)"  ng-class="{'choose': plan.status==1 && !plan.unchecked, '': plan.status!=1 , 'unchoose':plan.status==1 && plan.unchecked }"></div>	
		<div class="product"  ng-click = "goDetail(plan)">
			<div class="product-name">{{plan.name}}</div>	
			<div class="product-des">最高保额：{{processSpecialMoney(plan.sum_insured)}}元  &nbsp; &nbsp;保{{plan.coverage_period}}{{getCoverageType(plan.coverage_period_type)}}</div>	
			<div class="product-price"> 
			<span >{{plan.premium}}元 </span> 
			<span ng-show="plan.status == 0 " style="color:#999">不符合投保条件</span>
			<span ng-show="plan.status == 6 "  style="color:#999">投保人年龄超过限制</span>
			<span ng-show="plan.status == 7 "  style="color:#999">被保人年龄超过限制</span>
			<span ng-show="plan.status == 8 "  style="color:#999">被保人性别不符合条件</span>

			 <span ng-if="plan.status!=1" class="status {{get_taocan_css(plan.status)}}" > {{getTaoCanStatus(plan.status)}}</span>
			</div>
		</div>	
		<div class="arrow" ng-class="{'noclick': !plan.official_site && plan.status!==1 }"  ng-click="goDetail(plan)" ></div>	
	</li>	
	<!--
	<li>
		<div class="checkbox choose"></div>	
		<div class="product">
			<div class="product-name">阳光-交通工具意外险 交通意外交通工</div>	
			<div class="product-des">保额：300000元 保20年</div>	
			<div class="product-price"> 2500元/年</div>
		</div>	
		<div class="arrow"></div>	
	</li>	
	-->
	<li style="border-top:1px solid #ccc;height: 10px;background: #f5f5f5;box-sizing: border-box;"></li>
</ul>

<div class="fix_container">
	<div class="footer">
	<a href="javascript:void(0)" class="btn btn_n_primary left">投保金额<span class="money">{{sumMoney}}</span> 元</a>
	<a href="javascript:void(0)" class="btn btn_n_primary right" ng-click="goInfo()">立即投保</a>
	</div>
</div>

</div>
<script type="text/javascript">

 $("body").on("click",".left-td",function(){
 	var des =  $(this).attr("des");
 	if(des){
		$("#popup").find(".toast").html(des);
	   	$("#popup").show();
 	}
 });
</script>